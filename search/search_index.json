{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Coding Challenge Note \u00b6 Python3\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002 Basic \u00b6 \u6a19\u6e96\u5165\u529b \u30c7\u30fc\u30bf\u69cb\u9020 \u7d44\u5408\u305b\u8ad6 \u7d2f\u7a4d\u548c \u305d\u306e\u4ed6 Algorithms \u00b6 Graph Theory \u00b6 \u63a2\u7d22 \u6df1\u3055\u512a\u5148\u63a2\u7d22(DFS) \u5e45\u512a\u5148\u63a2\u7d22(BFS) \u6700\u77ed\u8def \u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5 \u30ef\u30fc\u30b7\u30e3\u30eb\u30d5\u30ed\u30a4\u30c9\u6cd5 Number Theory \u00b6 \u7d04\u6570 \u6700\u5927\u516c\u7d04\u6570\u3068\u6700\u5c0f\u516c\u500d\u6570 \u7d04\u6570\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8 \u7d04\u6570\u3092\u5217\u6319 \u7d20\u6570 \u7d20\u6570\u5224\u5b9a \u7d20\u56e0\u6570\u5206\u89e3 \u7d20\u6570\u3092\u5217\u6319 \u4e8c\u9805\u4fc2\u6570 \u4ea4\u5dee\u5224\u5b9a Data Structure \u00b6 Union Find Weighted Union Find \u8aa4\u308a\u304c\u3042\u308c\u3070\u3001 Issue \u3092\u3044\u305f\u3060\u3051\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002","title":"Coding Challenge Note"},{"location":"#coding-challenge-note","text":"Python3\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002","title":"Coding Challenge Note"},{"location":"#basic","text":"\u6a19\u6e96\u5165\u529b \u30c7\u30fc\u30bf\u69cb\u9020 \u7d44\u5408\u305b\u8ad6 \u7d2f\u7a4d\u548c \u305d\u306e\u4ed6","title":"Basic"},{"location":"#algorithms","text":"","title":"Algorithms"},{"location":"#graph-theory","text":"\u63a2\u7d22 \u6df1\u3055\u512a\u5148\u63a2\u7d22(DFS) \u5e45\u512a\u5148\u63a2\u7d22(BFS) \u6700\u77ed\u8def \u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5 \u30ef\u30fc\u30b7\u30e3\u30eb\u30d5\u30ed\u30a4\u30c9\u6cd5","title":"Graph Theory"},{"location":"#number-theory","text":"\u7d04\u6570 \u6700\u5927\u516c\u7d04\u6570\u3068\u6700\u5c0f\u516c\u500d\u6570 \u7d04\u6570\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8 \u7d04\u6570\u3092\u5217\u6319 \u7d20\u6570 \u7d20\u6570\u5224\u5b9a \u7d20\u56e0\u6570\u5206\u89e3 \u7d20\u6570\u3092\u5217\u6319 \u4e8c\u9805\u4fc2\u6570 \u4ea4\u5dee\u5224\u5b9a","title":"Number Theory"},{"location":"#data-structure","text":"Union Find Weighted Union Find \u8aa4\u308a\u304c\u3042\u308c\u3070\u3001 Issue \u3092\u3044\u305f\u3060\u3051\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002","title":"Data Structure"},{"location":"problems/","text":"Problems \u00b6 AtCoder \u00b6 400 \u00b6 ABC054 D - Mixing Experiment LeetCode \u00b6 Medium \u00b6 LeetCode 1310. XOR Queries of a Subarray Hard \u00b6 LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome \u52d5\u7684\u8a08\u753b\u6cd5 \u00b6 ABC054 D - Mixing Experiment LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome Bit\u64cd\u4f5c \u00b6 LeetCode 1310. XOR Queries of a Subarray","title":"Problems"},{"location":"problems/#problems","text":"","title":"Problems"},{"location":"problems/#atcoder","text":"","title":"AtCoder"},{"location":"problems/#400","text":"ABC054 D - Mixing Experiment","title":"400"},{"location":"problems/#leetcode","text":"","title":"LeetCode"},{"location":"problems/#medium","text":"LeetCode 1310. XOR Queries of a Subarray","title":"Medium"},{"location":"problems/#hard","text":"LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome","title":"Hard"},{"location":"problems/#_1","text":"ABC054 D - Mixing Experiment LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome","title":"\u52d5\u7684\u8a08\u753b\u6cd5"},{"location":"problems/#bit","text":"LeetCode 1310. XOR Queries of a Subarray","title":"Bit\u64cd\u4f5c"},{"location":"algorithms/bfs/","text":"\u5e45\u512a\u5148\u63a2\u7d22\uff08BFS\uff09 \u00b6 \u8a08\u7b97\u91cf \u00b6 O(N+M) N\u306f\u30b0\u30e9\u30d5\u306e\u9802\u70b9\u306e\u6570 M\u306f\u8fba\u306e\u6570 \u30b3\u30fc\u30c9 \u00b6 Args: graph (List[int]): \u96a3\u63a5\u30ea\u30b9\u30c8 start (int): \u958b\u59cb\u30ce\u30fc\u30c9\u756a\u53f7 Returns: list: \u958b\u59cb\u30ce\u30fc\u30c9\u304b\u3089\u306e\u8ddd\u96e2 from collections import deque def bfs ( graph , start ): que = deque ([ start ]) dist = [ None ] * len ( graph ) dist [ start ] = 0 while len ( que ) != 0 : v = que . popleft () # do something with v for u in graph [ v ]: if dist [ u ] is None : que . append ( u ) dist [ u ] = dist [ v ] + 1 return dist","title":"\u5e45\u512a\u5148\u63a2\u7d22\uff08BFS\uff09"},{"location":"algorithms/bfs/#bfs","text":"","title":"\u5e45\u512a\u5148\u63a2\u7d22\uff08BFS\uff09"},{"location":"algorithms/bfs/#_1","text":"O(N+M) N\u306f\u30b0\u30e9\u30d5\u306e\u9802\u70b9\u306e\u6570 M\u306f\u8fba\u306e\u6570","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/bfs/#_2","text":"Args: graph (List[int]): \u96a3\u63a5\u30ea\u30b9\u30c8 start (int): \u958b\u59cb\u30ce\u30fc\u30c9\u756a\u53f7 Returns: list: \u958b\u59cb\u30ce\u30fc\u30c9\u304b\u3089\u306e\u8ddd\u96e2 from collections import deque def bfs ( graph , start ): que = deque ([ start ]) dist = [ None ] * len ( graph ) dist [ start ] = 0 while len ( que ) != 0 : v = que . popleft () # do something with v for u in graph [ v ]: if dist [ u ] is None : que . append ( u ) dist [ u ] = dist [ v ] + 1 return dist","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/binomial_coefficients/","text":"\u4e8c\u9805\u4fc2\u6570 \u00b6 \u30d5\u30a7\u30eb\u30de\u30fc\u306e\u5c0f\u5b9a\u7406\u3092\u7528\u3044\u305f\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97 class Comb ( object ): def __init__ ( self , N , mod = 10 ** 9 + 7 ): \"\"\"\u524d\u51e6\u7406 \u8a08\u7b97\u91cf: O(N) \"\"\" self . mod = mod self . fac , self . inv = [ 1 ] * ( N + 1 ), [ 1 ] * ( N + 1 ) for i in range ( 2 , N + 1 ): self . fac [ i ] = self . fac [ i - 1 ] * i % mod self . inv [ i ] = self . inv [ i - 1 ] * pow ( i , mod - 2 , mod ) % mod def calc ( self , n , k ): \"\"\"\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97 \u8a08\u7b97\u91cf: O(1) Examples: >>> comb = Comb(10) >>> comb.calc(10, 2) 45 \"\"\" if n >= k : return self . fac [ n ] * self . inv [ k ] * self . inv [ n - k ] % self . mod else : return 0","title":"\u4e8c\u9805\u4fc2\u6570"},{"location":"algorithms/binomial_coefficients/#_1","text":"\u30d5\u30a7\u30eb\u30de\u30fc\u306e\u5c0f\u5b9a\u7406\u3092\u7528\u3044\u305f\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97 class Comb ( object ): def __init__ ( self , N , mod = 10 ** 9 + 7 ): \"\"\"\u524d\u51e6\u7406 \u8a08\u7b97\u91cf: O(N) \"\"\" self . mod = mod self . fac , self . inv = [ 1 ] * ( N + 1 ), [ 1 ] * ( N + 1 ) for i in range ( 2 , N + 1 ): self . fac [ i ] = self . fac [ i - 1 ] * i % mod self . inv [ i ] = self . inv [ i - 1 ] * pow ( i , mod - 2 , mod ) % mod def calc ( self , n , k ): \"\"\"\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97 \u8a08\u7b97\u91cf: O(1) Examples: >>> comb = Comb(10) >>> comb.calc(10, 2) 45 \"\"\" if n >= k : return self . fac [ n ] * self . inv [ k ] * self . inv [ n - k ] % self . mod else : return 0","title":"\u4e8c\u9805\u4fc2\u6570"},{"location":"algorithms/count_divisor/","text":"\u7d04\u6570\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8 \u00b6 \u6574\u6570 N N \u306e\u7d04\u6570\u306e\u500b\u6570\u3092\u6570\u3048\u308b \u8a08\u7b97\u91cf \u00b6 O(\\sqrt{N}) O(\\sqrt{N}) Note N = 10^{12} N = 10^{12} \u3067300ms\u7a0b\u5ea6 \u30b3\u30fc\u30c9 \u00b6 def count_divisor ( n ): i , count = 1 , 0 while i * i <= n : if n % i == 0 : if i * i == n : count += 1 else : count += 2 i += 1 return count Example \u00b6 >>> count_divisor ( 12 ) 6","title":"\u7d04\u6570\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8"},{"location":"algorithms/count_divisor/#_1","text":"\u6574\u6570 N N \u306e\u7d04\u6570\u306e\u500b\u6570\u3092\u6570\u3048\u308b","title":"\u7d04\u6570\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8"},{"location":"algorithms/count_divisor/#_2","text":"O(\\sqrt{N}) O(\\sqrt{N}) Note N = 10^{12} N = 10^{12} \u3067300ms\u7a0b\u5ea6","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/count_divisor/#_3","text":"def count_divisor ( n ): i , count = 1 , 0 while i * i <= n : if n % i == 0 : if i * i == n : count += 1 else : count += 2 i += 1 return count","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/count_divisor/#example","text":">>> count_divisor ( 12 ) 6","title":"Example"},{"location":"algorithms/dfs/","text":"\u6df1\u3055\u512a\u5148\u63a2\u7d22\uff08DFS\uff09 \u00b6 \u8a08\u7b97\u91cf \u00b6 O(N+M) N\u306f\u30b0\u30e9\u30d5\u306e\u9802\u70b9\u306e\u6570 M\u306f\u8fba\u306e\u6570 \u4f7f\u3044\u65b9 \u00b6 graph (List[int]): \u96a3\u63a5\u30ea\u30b9\u30c8 start (int): \u958b\u59cb\u30ce\u30fc\u30c9\u756a\u53f7 \u518d\u5e30\u3042\u308a \u00b6 def dfs ( graph , visited , v ): visited [ v ] = True # do something with v for u in graph [ v ]: if visited [ u ]: continue dfs ( graph , visited , u ) visited = [ False ] * len ( graph ) dfs ( graph , visited , start ) \u518d\u5e30\u306a\u3057 \u00b6 def dfs ( graph , start ): stack = [ start ] visited = [ False ] * len ( graph ) visited [ start ] = True while len ( stack ) != 0 : v = stack . pop () # do something with v for u in graph [ v ]: if visited : continue stack . append ( u ) visited [ u ] = True","title":"\u6df1\u3055\u512a\u5148\u63a2\u7d22\uff08DFS\uff09"},{"location":"algorithms/dfs/#dfs","text":"","title":"\u6df1\u3055\u512a\u5148\u63a2\u7d22\uff08DFS\uff09"},{"location":"algorithms/dfs/#_1","text":"O(N+M) N\u306f\u30b0\u30e9\u30d5\u306e\u9802\u70b9\u306e\u6570 M\u306f\u8fba\u306e\u6570","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/dfs/#_2","text":"graph (List[int]): \u96a3\u63a5\u30ea\u30b9\u30c8 start (int): \u958b\u59cb\u30ce\u30fc\u30c9\u756a\u53f7","title":"\u4f7f\u3044\u65b9"},{"location":"algorithms/dfs/#_3","text":"def dfs ( graph , visited , v ): visited [ v ] = True # do something with v for u in graph [ v ]: if visited [ u ]: continue dfs ( graph , visited , u ) visited = [ False ] * len ( graph ) dfs ( graph , visited , start )","title":"\u518d\u5e30\u3042\u308a"},{"location":"algorithms/dfs/#_4","text":"def dfs ( graph , start ): stack = [ start ] visited = [ False ] * len ( graph ) visited [ start ] = True while len ( stack ) != 0 : v = stack . pop () # do something with v for u in graph [ v ]: if visited : continue stack . append ( u ) visited [ u ] = True","title":"\u518d\u5e30\u306a\u3057"},{"location":"algorithms/dijkstra/","text":"\u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5 \u00b6 from collections import defaultdict from heapq import heappop , heappush class Graph ( object ): \"\"\"\u96a3\u63a5\u30ea\u30b9\u30c8\u306b\u3088\u308b\u6709\u5411\u30b0\u30e9\u30d5\"\"\" def __init__ ( self ): self . graph = defaultdict ( list ) def __len__ ( self ): return len ( self . graph ) def add_edge ( self , src , dst , weight = 1 ): self . graph [ src ] . append (( dst , weight )) def get_nodes ( self ): return self . graph . keys () class Dijkstra ( object ): \"\"\"\u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5\uff08\u4e8c\u5206\u30d2\u30fc\u30d7\uff09\u306b\u3088\u308b\u6700\u77ed\u7d4c\u8def\u63a2\u7d22 \u8a08\u7b97\u91cf: O((E+V)logV) \"\"\" def __init__ ( self , graph , start ): g = graph . graph self . dist = defaultdict ( lambda : float ( \"inf\" )) self . dist [ start ] = 0 self . prev = defaultdict ( lambda : None ) Q = [] heappush ( Q , ( self . dist [ start ], start )) while Q : dist_u , u = heappop ( Q ) if self . dist [ u ] < dist_u : continue for v , weight in g [ u ]: alt = dist_u + weight if self . dist [ v ] > alt : self . dist [ v ] = alt self . prev [ v ] = u heappush ( Q , ( alt , v )) def shortest_distance ( self , goal ): return self . dist [ goal ] def shortest_path ( self , goal ): path = [] node = goal while node is not None : path . append ( node ) node = self . prev [ node ] return path [:: - 1 ]","title":"\u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5"},{"location":"algorithms/dijkstra/#_1","text":"from collections import defaultdict from heapq import heappop , heappush class Graph ( object ): \"\"\"\u96a3\u63a5\u30ea\u30b9\u30c8\u306b\u3088\u308b\u6709\u5411\u30b0\u30e9\u30d5\"\"\" def __init__ ( self ): self . graph = defaultdict ( list ) def __len__ ( self ): return len ( self . graph ) def add_edge ( self , src , dst , weight = 1 ): self . graph [ src ] . append (( dst , weight )) def get_nodes ( self ): return self . graph . keys () class Dijkstra ( object ): \"\"\"\u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5\uff08\u4e8c\u5206\u30d2\u30fc\u30d7\uff09\u306b\u3088\u308b\u6700\u77ed\u7d4c\u8def\u63a2\u7d22 \u8a08\u7b97\u91cf: O((E+V)logV) \"\"\" def __init__ ( self , graph , start ): g = graph . graph self . dist = defaultdict ( lambda : float ( \"inf\" )) self . dist [ start ] = 0 self . prev = defaultdict ( lambda : None ) Q = [] heappush ( Q , ( self . dist [ start ], start )) while Q : dist_u , u = heappop ( Q ) if self . dist [ u ] < dist_u : continue for v , weight in g [ u ]: alt = dist_u + weight if self . dist [ v ] > alt : self . dist [ v ] = alt self . prev [ v ] = u heappush ( Q , ( alt , v )) def shortest_distance ( self , goal ): return self . dist [ goal ] def shortest_path ( self , goal ): path = [] node = goal while node is not None : path . append ( node ) node = self . prev [ node ] return path [:: - 1 ]","title":"\u30c0\u30a4\u30af\u30b9\u30c8\u30e9\u6cd5"},{"location":"algorithms/gcd_lcm/","text":"\u6700\u5927\u516c\u7d04\u6570\u3068\u6700\u5c0f\u516c\u500d\u6570 \u00b6 \u6700\u5927\u516c\u7d04\u6570 \u00b6 Python <= 3.4 \u00b6 from fractions import gcd gcd ( a , b ) Python >= 3.5 \u00b6 from math import gcd gcd ( a , b ) \u6700\u5c0f\u516c\u500d\u6570 \u00b6 def lcm ( a , b ): return a * b // gcd ( a , b )","title":"\u6700\u5927\u516c\u7d04\u6570\u3068\u6700\u5c0f\u516c\u500d\u6570"},{"location":"algorithms/gcd_lcm/#_1","text":"","title":"\u6700\u5927\u516c\u7d04\u6570\u3068\u6700\u5c0f\u516c\u500d\u6570"},{"location":"algorithms/gcd_lcm/#_2","text":"","title":"\u6700\u5927\u516c\u7d04\u6570"},{"location":"algorithms/gcd_lcm/#python-34","text":"from fractions import gcd gcd ( a , b )","title":"Python &lt;= 3.4"},{"location":"algorithms/gcd_lcm/#python-35","text":"from math import gcd gcd ( a , b )","title":"Python &gt;= 3.5"},{"location":"algorithms/gcd_lcm/#_3","text":"def lcm ( a , b ): return a * b // gcd ( a , b )","title":"\u6700\u5c0f\u516c\u500d\u6570"},{"location":"algorithms/is_intersected/","text":"\u7dda\u5206\u4ea4\u5dee\u5224\u5b9a \u00b6 \u7dda\u5206 ab \u3068\u7dda\u5206 cd \u304c\u4ea4\u5dee\u3057\u3066\u3044\u308b\u304b\u5224\u5b9a\u3059\u308b \u30b3\u30fc\u30c9 \u00b6 def is_intersected ( a , b , c , d ): s = ( a [ 0 ] - b [ 0 ]) * ( c [ 1 ] - a [ 1 ]) + ( a [ 1 ] - b [ 1 ]) * ( a [ 0 ] - c [ 0 ]) t = ( a [ 0 ] - b [ 0 ]) * ( d [ 1 ] - a [ 1 ]) + ( a [ 1 ] - b [ 1 ]) * ( a [ 0 ] - d [ 0 ]) if s * t > 0 : return False s = ( c [ 0 ] - d [ 0 ]) * ( a [ 1 ] - c [ 1 ]) + ( c [ 1 ] - d [ 1 ]) * ( c [ 0 ] - a [ 0 ]) t = ( c [ 0 ] - d [ 0 ]) * ( b [ 1 ] - c [ 1 ]) + ( c [ 1 ] - d [ 1 ]) * ( c [ 0 ] - b [ 0 ]) if s * t > 0 : return False return True Example \u00b6 >>> a = ( 0 , 0 ) >>> c = ( 1 , 1 ) >>> d = ( 0 , 1 ) >>> e = ( 1 , 0 ) >>> is_intersected ( a , b , c , d ) True","title":"\u4ea4\u5dee\u5224\u5b9a"},{"location":"algorithms/is_intersected/#_1","text":"\u7dda\u5206 ab \u3068\u7dda\u5206 cd \u304c\u4ea4\u5dee\u3057\u3066\u3044\u308b\u304b\u5224\u5b9a\u3059\u308b","title":"\u7dda\u5206\u4ea4\u5dee\u5224\u5b9a"},{"location":"algorithms/is_intersected/#_2","text":"def is_intersected ( a , b , c , d ): s = ( a [ 0 ] - b [ 0 ]) * ( c [ 1 ] - a [ 1 ]) + ( a [ 1 ] - b [ 1 ]) * ( a [ 0 ] - c [ 0 ]) t = ( a [ 0 ] - b [ 0 ]) * ( d [ 1 ] - a [ 1 ]) + ( a [ 1 ] - b [ 1 ]) * ( a [ 0 ] - d [ 0 ]) if s * t > 0 : return False s = ( c [ 0 ] - d [ 0 ]) * ( a [ 1 ] - c [ 1 ]) + ( c [ 1 ] - d [ 1 ]) * ( c [ 0 ] - a [ 0 ]) t = ( c [ 0 ] - d [ 0 ]) * ( b [ 1 ] - c [ 1 ]) + ( c [ 1 ] - d [ 1 ]) * ( c [ 0 ] - b [ 0 ]) if s * t > 0 : return False return True","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/is_intersected/#example","text":">>> a = ( 0 , 0 ) >>> c = ( 1 , 1 ) >>> d = ( 0 , 1 ) >>> e = ( 1 , 0 ) >>> is_intersected ( a , b , c , d ) True","title":"Example"},{"location":"algorithms/is_prime/","text":"\u7d20\u6570\u5224\u5b9a \u00b6 \u6574\u6570 N N \u306e\u7d20\u6570\u304b\u5426\u304b\u3092\u5224\u5b9a\u3059\u308b \u8a08\u7b97\u91cf \u00b6 \u6700\u60aa\u8a08\u7b97\u91cf: O(\\sqrt{N}) O(\\sqrt{N}) \u30b3\u30fc\u30c9 \u00b6 def is_prime ( n ): i = 2 while i * i <= n : if n % i == 0 : return False i += 1 return True Example \u00b6 >>> is_prime ( 12 ) False","title":"\u7d20\u6570\u5224\u5b9a"},{"location":"algorithms/is_prime/#_1","text":"\u6574\u6570 N N \u306e\u7d20\u6570\u304b\u5426\u304b\u3092\u5224\u5b9a\u3059\u308b","title":"\u7d20\u6570\u5224\u5b9a"},{"location":"algorithms/is_prime/#_2","text":"\u6700\u60aa\u8a08\u7b97\u91cf: O(\\sqrt{N}) O(\\sqrt{N})","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/is_prime/#_3","text":"def is_prime ( n ): i = 2 while i * i <= n : if n % i == 0 : return False i += 1 return True","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/is_prime/#example","text":">>> is_prime ( 12 ) False","title":"Example"},{"location":"algorithms/make_divisors/","text":"\u7d04\u6570\u3092\u5217\u6319 \u00b6 \u6574\u6570 N N \u306e\u7d04\u6570\u306e\u5217\u6319\u3059\u308b \u8a08\u7b97\u91cf \u00b6 O(\\sqrt{N}) O(\\sqrt{N}) \u30b3\u30fc\u30c9 \u00b6 def make_divisors ( n ): i , divisors = 1 , [] while i * i <= n : if n % i == 0 : divisors . append ( i ) if i * i != n : divisors . append ( n // i ) i += 1 return divisors Warning \u51fa\u529b\u306f\u30bd\u30fc\u30c8\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f Example \u00b6 >>> make_divisors ( 12 ) [ 1 , 12 , 2 , 6 , 3 , 4 ]","title":"\u7d04\u6570\u3092\u5217\u6319"},{"location":"algorithms/make_divisors/#_1","text":"\u6574\u6570 N N \u306e\u7d04\u6570\u306e\u5217\u6319\u3059\u308b","title":"\u7d04\u6570\u3092\u5217\u6319"},{"location":"algorithms/make_divisors/#_2","text":"O(\\sqrt{N}) O(\\sqrt{N})","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/make_divisors/#_3","text":"def make_divisors ( n ): i , divisors = 1 , [] while i * i <= n : if n % i == 0 : divisors . append ( i ) if i * i != n : divisors . append ( n // i ) i += 1 return divisors Warning \u51fa\u529b\u306f\u30bd\u30fc\u30c8\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/make_divisors/#example","text":">>> make_divisors ( 12 ) [ 1 , 12 , 2 , 6 , 3 , 4 ]","title":"Example"},{"location":"algorithms/prime_boolean_table/","text":"\u7d20\u6570\u3092\u5217\u6319 \u00b6 \u6574\u6570 N N \u307e\u3067\u306e\u7d20\u6570\u3092\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u7be9\u3067\u6c42\u3081\u308b \u8a08\u7b97\u91cf \u00b6 O(N\\log{\\log{N}}) O(N\\log{\\log{N}}) Note N = 10^{6} N = 10^{6} \u3067300ms\u7a0b\u5ea6 \u30b3\u30fc\u30c9 \u00b6 def prime_boolean_table ( n ): primes = [ True ] * ( n + 1 ) primes [: 2 ] = [ False , False ] for i in range ( 2 , n + 1 ): if primes [ i ]: for j in range ( i + i , n + 1 , i ): primes [ j ] = False return primes Example \u00b6 >>> prime_boolean_table ( 12 ) [ False , False , True , True , False , ... ] >>> [ i for i , c in enumerate ( prime_boolean_table ( 12 )) if c ] [ 2 , 3 , 5 , 7 , 11 ]","title":"\u7d20\u6570\u3092\u5217\u6319"},{"location":"algorithms/prime_boolean_table/#_1","text":"\u6574\u6570 N N \u307e\u3067\u306e\u7d20\u6570\u3092\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u7be9\u3067\u6c42\u3081\u308b","title":"\u7d20\u6570\u3092\u5217\u6319"},{"location":"algorithms/prime_boolean_table/#_2","text":"O(N\\log{\\log{N}}) O(N\\log{\\log{N}}) Note N = 10^{6} N = 10^{6} \u3067300ms\u7a0b\u5ea6","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/prime_boolean_table/#_3","text":"def prime_boolean_table ( n ): primes = [ True ] * ( n + 1 ) primes [: 2 ] = [ False , False ] for i in range ( 2 , n + 1 ): if primes [ i ]: for j in range ( i + i , n + 1 , i ): primes [ j ] = False return primes","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/prime_boolean_table/#example","text":">>> prime_boolean_table ( 12 ) [ False , False , True , True , False , ... ] >>> [ i for i , c in enumerate ( prime_boolean_table ( 12 )) if c ] [ 2 , 3 , 5 , 7 , 11 ]","title":"Example"},{"location":"algorithms/prime_factorize/","text":"\u7d20\u56e0\u6570\u5206\u89e3 \u00b6 \u6574\u6570 N N \u3092\u7d20\u56e0\u6570\u5206\u89e3\u3059\u308b \u30b3\u30fc\u30c9 \u00b6 def prime_factorize ( n ): if n == 1 : return [ 1 ] i , factors = 2 , [] while i * i <= n : while n % i == 0 : n //= i factors . append ( i ) i += 1 if n > 1 : factors . append ( n ) return factors Example \u00b6 >>> prime_factorize ( 12 ) [ 2 , 2 , 3 ]","title":"\u7d20\u56e0\u6570\u5206\u89e3"},{"location":"algorithms/prime_factorize/#_1","text":"\u6574\u6570 N N \u3092\u7d20\u56e0\u6570\u5206\u89e3\u3059\u308b","title":"\u7d20\u56e0\u6570\u5206\u89e3"},{"location":"algorithms/prime_factorize/#_2","text":"def prime_factorize ( n ): if n == 1 : return [ 1 ] i , factors = 2 , [] while i * i <= n : while n % i == 0 : n //= i factors . append ( i ) i += 1 if n > 1 : factors . append ( n ) return factors","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/prime_factorize/#example","text":">>> prime_factorize ( 12 ) [ 2 , 2 , 3 ]","title":"Example"},{"location":"algorithms/union_find/","text":"Union Find \u00b6 \u8a08\u7b97\u91cf \u00b6 O(\\alpha(N)) O(\\alpha(N)) Note \\alpha(\\cdot) \\alpha(\\cdot) \u306f\u30a2\u30c3\u30ab\u30fc\u30de\u30f3\u95a2\u6570\u3067\u3042\u308a\u3001 \\log \\log \u3088\u308a\u5c0f\u3055\u3044 \u30b3\u30fc\u30c9 \u00b6 class UnionFind ( object ): def __init__ ( self , n = 1 ): self . par = [ i for i in range ( n )] self . rank = [ 0 for _ in range ( n )] self . size = [ 1 for _ in range ( n )] def find ( self , x ): \"\"\"x \u304c\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u63a2\u7d22\"\"\" if self . par [ x ] == x : return x else : self . par [ x ] = self . find ( self . par [ x ]) return self . par [ x ] def union ( self , x , y ): \"\"\"x \u3068 y \u306e\u30b0\u30eb\u30fc\u30d7\u3092\u7d50\u5408\"\"\" x = self . find ( x ) y = self . find ( y ) if x != y : if self . rank [ x ] < self . rank [ y ]: x , y = y , x if self . rank [ x ] == self . rank [ y ]: self . rank [ x ] += 1 self . par [ y ] = x self . size [ x ] += self . size [ y ] def is_same ( self , x , y ): \"\"\"x \u3068 y \u304c\u540c\u3058\u30b0\u30eb\u30fc\u30d7\u304b\u5426\u304b\"\"\" return self . find ( x ) == self . find ( y ) def get_size ( self , x ): \"\"\"x \u304c\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u306e\u8981\u7d20\u6570\"\"\" x = self . find ( x ) return self . size [ x ]","title":"Union Find"},{"location":"algorithms/union_find/#union-find","text":"","title":"Union Find"},{"location":"algorithms/union_find/#_1","text":"O(\\alpha(N)) O(\\alpha(N)) Note \\alpha(\\cdot) \\alpha(\\cdot) \u306f\u30a2\u30c3\u30ab\u30fc\u30de\u30f3\u95a2\u6570\u3067\u3042\u308a\u3001 \\log \\log \u3088\u308a\u5c0f\u3055\u3044","title":"\u8a08\u7b97\u91cf"},{"location":"algorithms/union_find/#_2","text":"class UnionFind ( object ): def __init__ ( self , n = 1 ): self . par = [ i for i in range ( n )] self . rank = [ 0 for _ in range ( n )] self . size = [ 1 for _ in range ( n )] def find ( self , x ): \"\"\"x \u304c\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u3092\u63a2\u7d22\"\"\" if self . par [ x ] == x : return x else : self . par [ x ] = self . find ( self . par [ x ]) return self . par [ x ] def union ( self , x , y ): \"\"\"x \u3068 y \u306e\u30b0\u30eb\u30fc\u30d7\u3092\u7d50\u5408\"\"\" x = self . find ( x ) y = self . find ( y ) if x != y : if self . rank [ x ] < self . rank [ y ]: x , y = y , x if self . rank [ x ] == self . rank [ y ]: self . rank [ x ] += 1 self . par [ y ] = x self . size [ x ] += self . size [ y ] def is_same ( self , x , y ): \"\"\"x \u3068 y \u304c\u540c\u3058\u30b0\u30eb\u30fc\u30d7\u304b\u5426\u304b\"\"\" return self . find ( x ) == self . find ( y ) def get_size ( self , x ): \"\"\"x \u304c\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u306e\u8981\u7d20\u6570\"\"\" x = self . find ( x ) return self . size [ x ]","title":"\u30b3\u30fc\u30c9"},{"location":"algorithms/warshall_floyd/","text":"\u30ef\u30fc\u30b7\u30e3\u30eb\u30d5\u30ed\u30a4\u30c9\u6cd5 \u00b6 from scipy.sparse.csgraph import floyd_warshall","title":"\u30ef\u30fc\u30b7\u30e3\u30eb\u30d5\u30ed\u30a4\u30c9\u6cd5"},{"location":"algorithms/warshall_floyd/#_1","text":"from scipy.sparse.csgraph import floyd_warshall","title":"\u30ef\u30fc\u30b7\u30e3\u30eb\u30d5\u30ed\u30a4\u30c9\u6cd5"},{"location":"algorithms/weighted_union_find/","text":"Weighted Union Find \u00b6 \u30b3\u30fc\u30c9 \u00b6 class WeightedUnionFind ( object ): def __init__ ( self , n = 1 ): self . par = [ i for i in range ( n )] self . diff_weight = [ 0 for i in range ( n )] def find ( self , x ): if self . par [ x ] == x : return x else : root = self . find ( self . par [ x ]) self . diff_weight [ x ] += self . diff_weight [ self . par [ x ]] self . par [ x ] = root return root def union ( self , x , y , w ): w += self . weight ( x ) w -= self . weight ( y ) x = self . find ( x ) y = self . find ( y ) if x != y : self . par [ y ] = x self . diff_weight [ y ] = w def is_same ( self , x , y ): return self . find ( x ) == self . find ( y ) def weight ( self , x ): self . find ( x ) return self . diff_weight [ x ] def diff ( self , x , y ): return self . weight ( y ) - self . weight ( x )","title":"Weighted Union Find"},{"location":"algorithms/weighted_union_find/#weighted-union-find","text":"","title":"Weighted Union Find"},{"location":"algorithms/weighted_union_find/#_1","text":"class WeightedUnionFind ( object ): def __init__ ( self , n = 1 ): self . par = [ i for i in range ( n )] self . diff_weight = [ 0 for i in range ( n )] def find ( self , x ): if self . par [ x ] == x : return x else : root = self . find ( self . par [ x ]) self . diff_weight [ x ] += self . diff_weight [ self . par [ x ]] self . par [ x ] = root return root def union ( self , x , y , w ): w += self . weight ( x ) w -= self . weight ( y ) x = self . find ( x ) y = self . find ( y ) if x != y : self . par [ y ] = x self . diff_weight [ y ] = w def is_same ( self , x , y ): return self . find ( x ) == self . find ( y ) def weight ( self , x ): self . find ( x ) return self . diff_weight [ x ] def diff ( self , x , y ): return self . weight ( y ) - self . weight ( x )","title":"\u30b3\u30fc\u30c9"},{"location":"atcoder/abc054d/","text":"AtCoder ABC054 D - Mixing Experiment \u00b6 https://atcoder.jp/contests/abc054/tasks/abc054_d \u554f\u984c\u6982\u8981 \u00b6 \u7269\u8ceaA\u3092 a \u30b0\u30e9\u30e0\u3001\u7269\u8ceaB\u3092 b \u30b0\u30e9\u30e0\u542b\u307f c \u5186\u3067\u3042\u308b\u85ac\u54c1\u304c N \u500b\u4e0e\u3048\u3089\u308c\u308b \u7269\u8ceaA\u3068\u7269\u8ceaB\u306e\u6bd4\u7387\u304c Ma : Mb \u306b\u306a\u308b\u3088\u3046\u306b\u3001\u85ac\u54c1\u3092\u8cb7\u3063\u305f\u3068\u304d\u306e\u6700\u5c0f\u30b3\u30b9\u30c8\u3092\u6c42\u3081\u3088 \u5236\u7d04: N <= 40 , a, b <= 10 \u89e3\u8aac\u3068\u30b3\u30fc\u30c9 \u00b6 3\u6b21\u5143DP\u3092\u7528\u3044\u3066\u89e3\u304d\u307e\u3059\u3002 N , Ma , Mb = map ( int , input () . split ()) items = [[ int ( x ) for x in input () . split ()] for _ in range ( N )] # \u7269\u8ceaA\u3068B\u306e\u5408\u8a08\u5024\u3092\u6c42\u3081\u308b A , B = 0 , 0 for a , b , _ in items : A += a B += b # DP\u306e\u521d\u671f\u5316 # dp[i][j][k]: \u85ac\u54c1\u3092i\u500b\u307e\u3067\u9078\u3073j\u30b0\u30e9\u30e0\u3001k\u30b0\u30e9\u30e0\u306b\u306a\u308b\u3068\u304d\u306e\u6700\u5c0f\u30b3\u30b9\u30c8 dp = [[[ float ( \"inf\" )] * ( B + 1 ) for _ in range ( A + 1 )] for _ in range ( N + 1 )] for i in range ( N + 1 ): dp [ i ][ 0 ][ 0 ] = 0 # DP\u306e\u66f4\u65b0 # 3\u91cd\u30eb\u30fc\u30d7\u306e\u8a08\u7b97\u91cf\u306f\u3001\u305d\u308c\u305e\u308cO(N=40), O(Na=400), O(Nb=400)\u306a\u306e\u3067\u3001O(10^6) for i in range ( N ): a , b , c = items [ i ] for j in range ( A + 1 ): for k in range ( B + 1 ): # \u85ac\u54c1\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u5834\u5408 if j - a >= 0 and k - b >= 0 : # \u85ac\u54c1\u3092\u52a0\u3048\u305f\u3068\u304d\u306b\u30b3\u30b9\u30c8\u304c\u5c0f\u3055\u304f\u306a\u308b\u5834\u5408\u66f4\u65b0\u3059\u308b dp [ i + 1 ][ j ][ k ] = min ( dp [ i ][ j - a ][ k - b ] + c , dp [ i ][ j ][ k ]) else : dp [ i + 1 ][ j ][ k ] = dp [ i ][ j ][ k ] # dp[N][:][:]\u306e\u4e2d\u304b\u3089\u6bd4\u7387\u306b\u5408\u81f4\u3059\u308b\u3082\u306e\u3092\u53d6\u308a\u51fa\u3059 ans = float ( \"inf\" ) for x in range ( 1 , min ( A // Ma , B // Mb ) + 1 ): a = Ma * x b = Mb * x ans = min ( dp [ N ][ a ][ b ], ans ) if ans == float ( \"inf\" ): ans = - 1 print ( ans )","title":"AtCoder ABC054 D - Mixing Experiment"},{"location":"atcoder/abc054d/#atcoder-abc054-d-mixing-experiment","text":"https://atcoder.jp/contests/abc054/tasks/abc054_d","title":"AtCoder ABC054 D - Mixing Experiment"},{"location":"atcoder/abc054d/#_1","text":"\u7269\u8ceaA\u3092 a \u30b0\u30e9\u30e0\u3001\u7269\u8ceaB\u3092 b \u30b0\u30e9\u30e0\u542b\u307f c \u5186\u3067\u3042\u308b\u85ac\u54c1\u304c N \u500b\u4e0e\u3048\u3089\u308c\u308b \u7269\u8ceaA\u3068\u7269\u8ceaB\u306e\u6bd4\u7387\u304c Ma : Mb \u306b\u306a\u308b\u3088\u3046\u306b\u3001\u85ac\u54c1\u3092\u8cb7\u3063\u305f\u3068\u304d\u306e\u6700\u5c0f\u30b3\u30b9\u30c8\u3092\u6c42\u3081\u3088 \u5236\u7d04: N <= 40 , a, b <= 10","title":"\u554f\u984c\u6982\u8981"},{"location":"atcoder/abc054d/#_2","text":"3\u6b21\u5143DP\u3092\u7528\u3044\u3066\u89e3\u304d\u307e\u3059\u3002 N , Ma , Mb = map ( int , input () . split ()) items = [[ int ( x ) for x in input () . split ()] for _ in range ( N )] # \u7269\u8ceaA\u3068B\u306e\u5408\u8a08\u5024\u3092\u6c42\u3081\u308b A , B = 0 , 0 for a , b , _ in items : A += a B += b # DP\u306e\u521d\u671f\u5316 # dp[i][j][k]: \u85ac\u54c1\u3092i\u500b\u307e\u3067\u9078\u3073j\u30b0\u30e9\u30e0\u3001k\u30b0\u30e9\u30e0\u306b\u306a\u308b\u3068\u304d\u306e\u6700\u5c0f\u30b3\u30b9\u30c8 dp = [[[ float ( \"inf\" )] * ( B + 1 ) for _ in range ( A + 1 )] for _ in range ( N + 1 )] for i in range ( N + 1 ): dp [ i ][ 0 ][ 0 ] = 0 # DP\u306e\u66f4\u65b0 # 3\u91cd\u30eb\u30fc\u30d7\u306e\u8a08\u7b97\u91cf\u306f\u3001\u305d\u308c\u305e\u308cO(N=40), O(Na=400), O(Nb=400)\u306a\u306e\u3067\u3001O(10^6) for i in range ( N ): a , b , c = items [ i ] for j in range ( A + 1 ): for k in range ( B + 1 ): # \u85ac\u54c1\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u5834\u5408 if j - a >= 0 and k - b >= 0 : # \u85ac\u54c1\u3092\u52a0\u3048\u305f\u3068\u304d\u306b\u30b3\u30b9\u30c8\u304c\u5c0f\u3055\u304f\u306a\u308b\u5834\u5408\u66f4\u65b0\u3059\u308b dp [ i + 1 ][ j ][ k ] = min ( dp [ i ][ j - a ][ k - b ] + c , dp [ i ][ j ][ k ]) else : dp [ i + 1 ][ j ][ k ] = dp [ i ][ j ][ k ] # dp[N][:][:]\u306e\u4e2d\u304b\u3089\u6bd4\u7387\u306b\u5408\u81f4\u3059\u308b\u3082\u306e\u3092\u53d6\u308a\u51fa\u3059 ans = float ( \"inf\" ) for x in range ( 1 , min ( A // Ma , B // Mb ) + 1 ): a = Ma * x b = Mb * x ans = min ( dp [ N ][ a ][ b ], ans ) if ans == float ( \"inf\" ): ans = - 1 print ( ans )","title":"\u89e3\u8aac\u3068\u30b3\u30fc\u30c9"},{"location":"basic/accumulation/","text":"\u7d2f\u7a4d\u548c \u00b6 from itertools import accumulate B = list ( accumulate ( A )) \u7a4d\u306e\u7d2f\u7a4d \u00b6 from itertools import accumulate import operator B = list ( accumulate ( A , operator . mul )) Example >>> A = [ 3 , 4 , 6 , 2 , 1 , 9 , 0 , 7 , 5 , 8 ] >>> list ( accumulate ( A , operator . mul )) [ 3 , 12 , 72 , 144 , 144 , 1296 , 0 , 0 , 0 , 0 ] \u6700\u5927\u5024\u306e\u7d2f\u7a4d \u00b6 from itertools import accumulate B = list ( accumulate ( A , max )) Example >>> A = [ 3 , 4 , 6 , 2 , 1 , 9 , 0 , 7 , 5 , 8 ] >>> list ( accumulate ( A , max )) >>> [ 3 , 4 , 6 , 6 , 6 , 9 , 9 , 9 , 9 , 9 ] XOR\u306e\u7d2f\u7a4d \u00b6 from itertools import accumulate import operator B = list ( accumulate ( A , operator . xor )) imos\u6cd5 \u00b6 https://imoz.jp/algorithms/imos_method.html 1\u6b21\u5143 \u00b6 class Imos1d ( object ): def __init__ ( self , n ): self . n = n self . x = [ 0 ] * n def add ( self , l , r , v = 1 ): self . x [ l ] += v self . x [ r ] -= v def calc ( self ): for i in range ( 1 , self . n ): self . x [ i ] += self . x [ i - 1 ]","title":"\u7d2f\u7a4d\u548c"},{"location":"basic/accumulation/#_1","text":"from itertools import accumulate B = list ( accumulate ( A ))","title":"\u7d2f\u7a4d\u548c"},{"location":"basic/accumulation/#_2","text":"from itertools import accumulate import operator B = list ( accumulate ( A , operator . mul )) Example >>> A = [ 3 , 4 , 6 , 2 , 1 , 9 , 0 , 7 , 5 , 8 ] >>> list ( accumulate ( A , operator . mul )) [ 3 , 12 , 72 , 144 , 144 , 1296 , 0 , 0 , 0 , 0 ]","title":"\u7a4d\u306e\u7d2f\u7a4d"},{"location":"basic/accumulation/#_3","text":"from itertools import accumulate B = list ( accumulate ( A , max )) Example >>> A = [ 3 , 4 , 6 , 2 , 1 , 9 , 0 , 7 , 5 , 8 ] >>> list ( accumulate ( A , max )) >>> [ 3 , 4 , 6 , 6 , 6 , 9 , 9 , 9 , 9 , 9 ]","title":"\u6700\u5927\u5024\u306e\u7d2f\u7a4d"},{"location":"basic/accumulation/#xor","text":"from itertools import accumulate import operator B = list ( accumulate ( A , operator . xor ))","title":"XOR\u306e\u7d2f\u7a4d"},{"location":"basic/accumulation/#imos","text":"https://imoz.jp/algorithms/imos_method.html","title":"imos\u6cd5"},{"location":"basic/accumulation/#1","text":"class Imos1d ( object ): def __init__ ( self , n ): self . n = n self . x = [ 0 ] * n def add ( self , l , r , v = 1 ): self . x [ l ] += v self . x [ r ] -= v def calc ( self ): for i in range ( 1 , self . n ): self . x [ i ] += self . x [ i - 1 ]","title":"1\u6b21\u5143"},{"location":"basic/combinatorics/","text":"\u7d44\u5408\u305b\u8ad6 \u00b6 \u9806\u5217 \u00b6 \u914d\u5217A\u304b\u3089k\u500b\u3092\u9078\u3076\u9806\u5217\u306e\u30ea\u30b9\u30c8 from itertools import permutations permutations ( A , k ) \u7d44\u5408\u305b \u00b6 \u914d\u5217A\u304b\u3089k\u500b\u3092\u9078\u3076\u7d44\u307f\u5408\u308f\u305b\u306e\u30ea\u30b9\u30c8 from itertools import combinations combinations ( A , k ) n\u500b\u304b\u3089k\u500b\u3092\u9078\u3076\u7d44\u307f\u5408\u308f\u305b\u6570\uff08nCk\uff09 scipy > 1.0.0 scipy.special n=10^4\u304f\u3089\u3044\u307e\u3067 from scipy.misc import comb comb ( n , k , exact = True ) \u30d5\u30a7\u30eb\u30de\u30fc\u306e\u5c0f\u5b9a\u7406\u3092\u7528\u3044\u305f\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97 \u968e\u4e57 \u00b6 # \u968e\u4e57 from math import factorial factorial ( x ) # \u968e\u4e57\u30c6\u30fc\u30d6\u30eb fac = [ 1 ] * N for i in range ( 1 , N ): fac [ i ] = ( fac [ i - 1 ] * i ) % mod # \u9006\u5143\u30c6\u30fc\u30d6\u30eb inv = [ 1 ] * N inv [ N - 1 ] = pow ( fac [ N - 1 ], mod - 2 , mod ) for i in range ( N - 1 , 0 , - 1 ): inv [ i - 1 ] = ( inv [ i ] * i ) % mod mod \u00b6 # b\u3000\u306e\u9006\u5143 # mod\u7a7a\u9593\u3067\u306f\u9664\u7b97\u304c\u9006\u5143\u306e\u7a4d\u306b\u306a\u308b pow ( b , mod - 2 , mod ) # a // b % mod # a * pow(b, mod - 2, mod) % mod # \u304c\u540c\u3058","title":"\u7d44\u5408\u305b\u8ad6"},{"location":"basic/combinatorics/#_1","text":"","title":"\u7d44\u5408\u305b\u8ad6"},{"location":"basic/combinatorics/#_2","text":"\u914d\u5217A\u304b\u3089k\u500b\u3092\u9078\u3076\u9806\u5217\u306e\u30ea\u30b9\u30c8 from itertools import permutations permutations ( A , k )","title":"\u9806\u5217"},{"location":"basic/combinatorics/#_3","text":"\u914d\u5217A\u304b\u3089k\u500b\u3092\u9078\u3076\u7d44\u307f\u5408\u308f\u305b\u306e\u30ea\u30b9\u30c8 from itertools import combinations combinations ( A , k ) n\u500b\u304b\u3089k\u500b\u3092\u9078\u3076\u7d44\u307f\u5408\u308f\u305b\u6570\uff08nCk\uff09 scipy > 1.0.0 scipy.special n=10^4\u304f\u3089\u3044\u307e\u3067 from scipy.misc import comb comb ( n , k , exact = True ) \u30d5\u30a7\u30eb\u30de\u30fc\u306e\u5c0f\u5b9a\u7406\u3092\u7528\u3044\u305f\u4e8c\u9805\u4fc2\u6570\u306e\u8a08\u7b97","title":"\u7d44\u5408\u305b"},{"location":"basic/combinatorics/#_4","text":"# \u968e\u4e57 from math import factorial factorial ( x ) # \u968e\u4e57\u30c6\u30fc\u30d6\u30eb fac = [ 1 ] * N for i in range ( 1 , N ): fac [ i ] = ( fac [ i - 1 ] * i ) % mod # \u9006\u5143\u30c6\u30fc\u30d6\u30eb inv = [ 1 ] * N inv [ N - 1 ] = pow ( fac [ N - 1 ], mod - 2 , mod ) for i in range ( N - 1 , 0 , - 1 ): inv [ i - 1 ] = ( inv [ i ] * i ) % mod","title":"\u968e\u4e57"},{"location":"basic/combinatorics/#mod","text":"# b\u3000\u306e\u9006\u5143 # mod\u7a7a\u9593\u3067\u306f\u9664\u7b97\u304c\u9006\u5143\u306e\u7a4d\u306b\u306a\u308b pow ( b , mod - 2 , mod ) # a // b % mod # a * pow(b, mod - 2, mod) % mod # \u304c\u540c\u3058","title":"mod"},{"location":"basic/data_structures/","text":"\u30c7\u30fc\u30bf\u69cb\u9020 \u00b6 \u30ea\u30b9\u30c8 \u00b6 \u30ea\u30b9\u30c8\u306e\u521d\u671f\u5316 \u00b6 # x[N][M] x = [[ None ] * M for _ in range ( N )] Note \u591a\u91cd\u30ea\u30b9\u30c8\u306f\u5185\u5305\u8868\u8a18\u3067\u521d\u671f\u5316\u3059\u308b \u591a\u91cd\u30ea\u30b9\u30c8\u306e\u30eb\u30fc\u30d7 \u00b6 product \u3092\u4f7f\u3046\u3068\u77ed\u304f\u66f8\u3051\u308b from itertools import product Example >>> from itertools import product >>> for p in product ([ 0 , 1 ], repeat = 3 ): ... print ( p ) ... ( 0 , 0 , 0 ) ( 0 , 0 , 1 ) ( 0 , 1 , 0 ) ( 0 , 1 , 1 ) ( 1 , 0 , 0 ) ( 1 , 0 , 1 ) ( 1 , 1 , 0 ) ( 1 , 1 , 1 ) 2\u6b21\u5143\u30ea\u30b9\u30c8\u3092flatten\uff081\u6b21\u5143\uff09\u306b\u5909\u63db\u3059\u308b \u00b6 [ x for l in A for x in l ] Example >>> A = [[ 0 , 1 ], [ 2 , 3 ]] >>> [ x for l in A for x in l ] [ 0 , 1 , 2 , 3 ] \u30ea\u30b9\u30c8\u306e\u51fa\u529b \u00b6 print ( ' ' . join ( map ( str , ans ))) Example >>> ans = [ 1 , 2 , 3 ] >>> print ( ' ' . join ( map ( str , ans ))) 1 2 3 \u8f9e\u66f8 \u00b6 \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u6301\u3064\u8f9e\u66f8\u306e\u521d\u671f\u5316 \u00b6 from collections import defaultdict \u8f9e\u66f8\u306e\u30bd\u30fc\u30c8 \u00b6 itemgetter \u3092\u4f7f\u7528\u3059\u308b\u307b\u3046\u304clamnda\u3088\u308a\u9ad8\u901f from operator import itemgetter sorted ( x , key = itemgetter ( 0 )) Example >>> from operator import itemgetter >>> x = { \"a\" : 2 , \"b\" : 1 } # key >>> sorted ( x , key = itemgetter ( 0 )) [( 'a' , 2 ), ( 'b' , 1 )] # value >>> sorted ( x , key = itemgetter ( 1 )) [( 'b' , 1 ), ( 'a' , 2 )] \u30ab\u30a6\u30f3\u30bf\u30fc \u00b6 from collections import Counter \u96c6\u5408 \u00b6 x in set Note \u91cd\u8907\u3092\u542b\u307e\u306a\u3044\u8981\u7d20\u306e\u63a2\u7d22\u306e\u5834\u5408\u306f set \u3092\u4f7f\u3046 list : O(N) set : O(1) \u30ad\u30e5\u30fc \u00b6 from collections import deque que = deque () \u512a\u5148\u5ea6\u4ed8\u304d\u30ad\u30e5\u30fc \u00b6 heappush: O(logN) heappop: O(1) \u6700\u5c0f\u30d2\u30fc\u30d7 \u00b6 from heapq import heappop , heappush que = [] heappush ( que , v ) v = heappop ( que ) \u6700\u5927\u30d2\u30fc\u30d7 \u00b6 from heapq import heappop , heappush que = [] heappush ( que , v * - 1 ) v = heappop ( que ) * - 1","title":"\u30c7\u30fc\u30bf\u69cb\u9020"},{"location":"basic/data_structures/#_1","text":"","title":"\u30c7\u30fc\u30bf\u69cb\u9020"},{"location":"basic/data_structures/#_2","text":"","title":"\u30ea\u30b9\u30c8"},{"location":"basic/data_structures/#_3","text":"# x[N][M] x = [[ None ] * M for _ in range ( N )] Note \u591a\u91cd\u30ea\u30b9\u30c8\u306f\u5185\u5305\u8868\u8a18\u3067\u521d\u671f\u5316\u3059\u308b","title":"\u30ea\u30b9\u30c8\u306e\u521d\u671f\u5316"},{"location":"basic/data_structures/#_4","text":"product \u3092\u4f7f\u3046\u3068\u77ed\u304f\u66f8\u3051\u308b from itertools import product Example >>> from itertools import product >>> for p in product ([ 0 , 1 ], repeat = 3 ): ... print ( p ) ... ( 0 , 0 , 0 ) ( 0 , 0 , 1 ) ( 0 , 1 , 0 ) ( 0 , 1 , 1 ) ( 1 , 0 , 0 ) ( 1 , 0 , 1 ) ( 1 , 1 , 0 ) ( 1 , 1 , 1 )","title":"\u591a\u91cd\u30ea\u30b9\u30c8\u306e\u30eb\u30fc\u30d7"},{"location":"basic/data_structures/#2flatten1","text":"[ x for l in A for x in l ] Example >>> A = [[ 0 , 1 ], [ 2 , 3 ]] >>> [ x for l in A for x in l ] [ 0 , 1 , 2 , 3 ]","title":"2\u6b21\u5143\u30ea\u30b9\u30c8\u3092flatten\uff081\u6b21\u5143\uff09\u306b\u5909\u63db\u3059\u308b"},{"location":"basic/data_structures/#_5","text":"print ( ' ' . join ( map ( str , ans ))) Example >>> ans = [ 1 , 2 , 3 ] >>> print ( ' ' . join ( map ( str , ans ))) 1 2 3","title":"\u30ea\u30b9\u30c8\u306e\u51fa\u529b"},{"location":"basic/data_structures/#_6","text":"","title":"\u8f9e\u66f8"},{"location":"basic/data_structures/#_7","text":"from collections import defaultdict","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u6301\u3064\u8f9e\u66f8\u306e\u521d\u671f\u5316"},{"location":"basic/data_structures/#_8","text":"itemgetter \u3092\u4f7f\u7528\u3059\u308b\u307b\u3046\u304clamnda\u3088\u308a\u9ad8\u901f from operator import itemgetter sorted ( x , key = itemgetter ( 0 )) Example >>> from operator import itemgetter >>> x = { \"a\" : 2 , \"b\" : 1 } # key >>> sorted ( x , key = itemgetter ( 0 )) [( 'a' , 2 ), ( 'b' , 1 )] # value >>> sorted ( x , key = itemgetter ( 1 )) [( 'b' , 1 ), ( 'a' , 2 )]","title":"\u8f9e\u66f8\u306e\u30bd\u30fc\u30c8"},{"location":"basic/data_structures/#_9","text":"from collections import Counter","title":"\u30ab\u30a6\u30f3\u30bf\u30fc"},{"location":"basic/data_structures/#_10","text":"x in set Note \u91cd\u8907\u3092\u542b\u307e\u306a\u3044\u8981\u7d20\u306e\u63a2\u7d22\u306e\u5834\u5408\u306f set \u3092\u4f7f\u3046 list : O(N) set : O(1)","title":"\u96c6\u5408"},{"location":"basic/data_structures/#_11","text":"from collections import deque que = deque ()","title":"\u30ad\u30e5\u30fc"},{"location":"basic/data_structures/#_12","text":"heappush: O(logN) heappop: O(1)","title":"\u512a\u5148\u5ea6\u4ed8\u304d\u30ad\u30e5\u30fc"},{"location":"basic/data_structures/#_13","text":"from heapq import heappop , heappush que = [] heappush ( que , v ) v = heappop ( que )","title":"\u6700\u5c0f\u30d2\u30fc\u30d7"},{"location":"basic/data_structures/#_14","text":"from heapq import heappop , heappush que = [] heappush ( que , v * - 1 ) v = heappop ( que ) * - 1","title":"\u6700\u5927\u30d2\u30fc\u30d7"},{"location":"basic/other/","text":"\u305d\u306e\u4ed6 \u00b6 \u9ad8\u901f\u5316 \u00b6 Python\u3067TLE\u306e\u5834\u5408\u3001pypy\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002 \u30e1\u30e2\u5316 \u00b6 from functools import lru_cache @lru_cache ( maxsize = 1000 ) def f ( n ): pass \u518d\u5e30\u56de\u6570\u306e\u4e0a\u9650 \u00b6 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f1000\u56de\u307e\u3067\u3067\u3042\u308b\u3002 \u518d\u5e30\u95a2\u6570\u3092\u7528\u3044\u3066\u3044\u308b\u3068\u304d RE \u306b\u306a\u3063\u305f\u5834\u5408\u306f\u4e0a\u9650\u3092\u4e0a\u3052\u3066\u307f\u308b\u3002 import sys sys . setrecursionlimit ( 10 ** 6 ) \u4e8c\u5206\u63a2\u7d22 \u00b6 from bisect import bisect_left , bisect_right # x \u3068\u7b49\u3057\u3044\u5024\u306e\u63a2\u7d22(index) i = bisect_left ( A , x ) if i != len ( A ) and A [ i ] == x : return i # x \u4ee5\u4e0a\u306e\u5024\u304c\u4f55\u500b\u3042\u308b\u304b(find_ge) n = len ( A ) - bisect_left ( A , x ) \u6587\u5b57\u5217 \u00b6 \u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8 \u00b6 alphabet = 'abcdefghijklmnopqrstuvwxyz' \u5927\u6587\u5b57\u306b\u5909\u63db \u00b6 s . upper () \u5c0f\u6587\u5b57\u306b\u5909\u63db \u00b6 s . lower ()","title":"\u305d\u306e\u4ed6"},{"location":"basic/other/#_1","text":"","title":"\u305d\u306e\u4ed6"},{"location":"basic/other/#_2","text":"Python\u3067TLE\u306e\u5834\u5408\u3001pypy\u3067\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002","title":"\u9ad8\u901f\u5316"},{"location":"basic/other/#_3","text":"from functools import lru_cache @lru_cache ( maxsize = 1000 ) def f ( n ): pass","title":"\u30e1\u30e2\u5316"},{"location":"basic/other/#_4","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f1000\u56de\u307e\u3067\u3067\u3042\u308b\u3002 \u518d\u5e30\u95a2\u6570\u3092\u7528\u3044\u3066\u3044\u308b\u3068\u304d RE \u306b\u306a\u3063\u305f\u5834\u5408\u306f\u4e0a\u9650\u3092\u4e0a\u3052\u3066\u307f\u308b\u3002 import sys sys . setrecursionlimit ( 10 ** 6 )","title":"\u518d\u5e30\u56de\u6570\u306e\u4e0a\u9650"},{"location":"basic/other/#_5","text":"from bisect import bisect_left , bisect_right # x \u3068\u7b49\u3057\u3044\u5024\u306e\u63a2\u7d22(index) i = bisect_left ( A , x ) if i != len ( A ) and A [ i ] == x : return i # x \u4ee5\u4e0a\u306e\u5024\u304c\u4f55\u500b\u3042\u308b\u304b(find_ge) n = len ( A ) - bisect_left ( A , x )","title":"\u4e8c\u5206\u63a2\u7d22"},{"location":"basic/other/#_6","text":"","title":"\u6587\u5b57\u5217"},{"location":"basic/other/#_7","text":"alphabet = 'abcdefghijklmnopqrstuvwxyz'","title":"\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8"},{"location":"basic/other/#_8","text":"s . upper ()","title":"\u5927\u6587\u5b57\u306b\u5909\u63db"},{"location":"basic/other/#_9","text":"s . lower ()","title":"\u5c0f\u6587\u5b57\u306b\u5909\u63db"},{"location":"basic/stdin/","text":"\u6a19\u6e96\u5165\u529b \u00b6 \u3088\u304f\u4f7f\u3046\u6a19\u6e96\u5165\u529b \u00b6 \u6587\u5b57\u5217 \u00b6 string S = input () \u6570\u5b57 \u00b6 1 N = int ( input ()) \u8907\u6570\u306e\u6570\u5b57 \u00b6 \u5225\u3005\u306e\u5909\u6570 \u00b6 10 5 N , K = map ( int , input () . split ()) 1\u3064\u306e\u5909\u6570\uff08\u30ea\u30b9\u30c8\uff09 \u00b6 1 2 3 4 5 A = [ int ( x ) for x in input () . split ()] \u8907\u6570\u884c\u306e\u6587\u5b57\u5217 \u00b6 #..# ..## S = [ list ( input ()) for _ in range ( H )] Example >>> print ( S ) [[ '#' , '.' , '.' , '#' ], [ '.' , '.' , '#' , '#' ]] \u8907\u6570\u884c\u306e\u6570\u5b57 \u00b6 1 2 3 A = [ int ( input ()) for _ in range ( N )] \u8907\u6570\u884c\u306b\u8907\u6570\u306e\u6570\u5b57 \u00b6 1 4 2 5 3 6 1\u3064\u306e2\u6b21\u5143\u30ea\u30b9\u30c8 \u00b6 A = [[ int ( x ) for x in input () . split ()] for _ in range ( H )] Example >>> print ( A ) [[ 1 , 4 ], [ 2 , 5 ], [ 3 , 6 ]] \u5225\u3005\u306e1\u6b21\u5143\u30ea\u30b9\u30c8 \u00b6 a , b = [ None ] * N , [ None ] * N for i in range ( N ): a [ i ], b [ i ] = map ( int , input () . split ()) Example >>> print ( a ) [ 1 , 2 , 3 ] >>> print ( b ) [ 4 , 5 , 6 ] \u6a19\u6e96\u5165\u529b\u306e\u9ad8\u901f\u5316 \u00b6 import sys input = sys . stdin . readline Note 10\u500d\u4ee5\u4e0a\u9ad8\u901f\u5316\u3067\u304d\u308b\u306e\u3067\u3001 10^6 10^6 \u3092\u8d85\u3048\u308b\u5834\u5408\u306f\u4f7f\u3046\u3053\u3068 \u51e6\u7406\u901f\u5ea6\u306e\u6bd4\u8f03 \u00b6 \u30c7\u30fc\u30bf\u6570\u304c 10^6 10^6 \u306e\u3068\u304d\u306e\u51e6\u7406\u901f\u5ea6 \u51fa\u5c55: Python\u306e\u77e5\u3063\u3066\u304a\u304f\u3068\u826f\u3044\u7d30\u304b\u3044\u51e6\u7406\u901f\u5ea6\u306e\u9055\u30448\u500b","title":"\u6a19\u6e96\u5165\u529b"},{"location":"basic/stdin/#_1","text":"","title":"\u6a19\u6e96\u5165\u529b"},{"location":"basic/stdin/#_2","text":"","title":"\u3088\u304f\u4f7f\u3046\u6a19\u6e96\u5165\u529b"},{"location":"basic/stdin/#_3","text":"string S = input ()","title":"\u6587\u5b57\u5217"},{"location":"basic/stdin/#_4","text":"1 N = int ( input ())","title":"\u6570\u5b57"},{"location":"basic/stdin/#_5","text":"","title":"\u8907\u6570\u306e\u6570\u5b57"},{"location":"basic/stdin/#_6","text":"10 5 N , K = map ( int , input () . split ())","title":"\u5225\u3005\u306e\u5909\u6570"},{"location":"basic/stdin/#1","text":"1 2 3 4 5 A = [ int ( x ) for x in input () . split ()]","title":"1\u3064\u306e\u5909\u6570\uff08\u30ea\u30b9\u30c8\uff09"},{"location":"basic/stdin/#_7","text":"#..# ..## S = [ list ( input ()) for _ in range ( H )] Example >>> print ( S ) [[ '#' , '.' , '.' , '#' ], [ '.' , '.' , '#' , '#' ]]","title":"\u8907\u6570\u884c\u306e\u6587\u5b57\u5217"},{"location":"basic/stdin/#_8","text":"1 2 3 A = [ int ( input ()) for _ in range ( N )]","title":"\u8907\u6570\u884c\u306e\u6570\u5b57"},{"location":"basic/stdin/#_9","text":"1 4 2 5 3 6","title":"\u8907\u6570\u884c\u306b\u8907\u6570\u306e\u6570\u5b57"},{"location":"basic/stdin/#12","text":"A = [[ int ( x ) for x in input () . split ()] for _ in range ( H )] Example >>> print ( A ) [[ 1 , 4 ], [ 2 , 5 ], [ 3 , 6 ]]","title":"1\u3064\u306e2\u6b21\u5143\u30ea\u30b9\u30c8"},{"location":"basic/stdin/#1_1","text":"a , b = [ None ] * N , [ None ] * N for i in range ( N ): a [ i ], b [ i ] = map ( int , input () . split ()) Example >>> print ( a ) [ 1 , 2 , 3 ] >>> print ( b ) [ 4 , 5 , 6 ]","title":"\u5225\u3005\u306e1\u6b21\u5143\u30ea\u30b9\u30c8"},{"location":"basic/stdin/#_10","text":"import sys input = sys . stdin . readline Note 10\u500d\u4ee5\u4e0a\u9ad8\u901f\u5316\u3067\u304d\u308b\u306e\u3067\u3001 10^6 10^6 \u3092\u8d85\u3048\u308b\u5834\u5408\u306f\u4f7f\u3046\u3053\u3068","title":"\u6a19\u6e96\u5165\u529b\u306e\u9ad8\u901f\u5316"},{"location":"basic/stdin/#_11","text":"\u30c7\u30fc\u30bf\u6570\u304c 10^6 10^6 \u306e\u3068\u304d\u306e\u51e6\u7406\u901f\u5ea6 \u51fa\u5c55: Python\u306e\u77e5\u3063\u3066\u304a\u304f\u3068\u826f\u3044\u7d30\u304b\u3044\u51e6\u7406\u901f\u5ea6\u306e\u9055\u30448\u500b","title":"\u51e6\u7406\u901f\u5ea6\u306e\u6bd4\u8f03"},{"location":"leetcode/1310/","text":"LeetCode 1310. XOR Queries of a Subarray \u00b6 https://leetcode.com/problems/xor-queries-of-a-subarray/ \u554f\u984c\u6982\u8981 \u00b6 \u6b63\u306e\u6574\u6570\u306e\u914d\u5217 arr \u3068\u30af\u30a8\u30ea\u306e\u914d\u5217 queries \uff08 queries[i] = [Li, Ri] \uff09\u304c\u4e0e\u3048\u3089\u308c\u308b \u305d\u308c\u305e\u308c\u306e\u30af\u30a8\u30ea\u306b\u5bfe\u3057\u3066\u3001 arr \u306e Li \u304b\u3089 Ri \u307e\u3067\u306e\u8981\u7d20\u304b\u3089\u6210\u308b\u90e8\u5206\u5217\u306eXOR\u3092\u6c42\u3081\u3088 \u5236\u7d04: 1 <= arr.length <= 3 * 10^4 1 <= queries.length <= 3 * 10^4 Example \u00b6 Input: arr = [1,3,4,8], queries = [[0,1],[1,2],[0,3],[3,3]] Output: [2,7,14,8] \u30b3\u30fc\u30c9\u3068\u89e3\u8aac \u00b6 \u30af\u30a8\u30ea\u3054\u3068\u306b\u5358\u7d14\u306bXOR\u3092\u6c42\u3081\u308b\u3068\u3001 arr.length * queries.length \u304b\u304b\u308b\u306e\u3067\u9593\u306b\u5408\u3044\u307e\u305b\u3093\u3002 \u4e88\u3081 arr \u306b\u5bfe\u3057\u3066\u7d2f\u7a4dXOR\u3092\u6c42\u3081\u3066\u304a\u304d\u3001\u30af\u30a8\u30ea\u3054\u3068\u306b\u90e8\u5206\u5217\u306eXOR\u3092\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002 from itertools import accumulate import operator class Solution : def xorQueries ( self , arr : List [ int ], queries : List [ List [ int ]]) -> List [ int ]: # \u7d2f\u7a4dXOR\u3092\u6c42\u3081\u308b O(N) acc = [ 0 ] + list ( accumulate ( arr , operator . xor )) out = [] for l , r in queries : # \u90e8\u5206\u5217\u306eXOR\u3092\u6c42\u3081\u308b O(1) x = acc [ l ] ^ acc [ r + 1 ] out . append ( x ) return out","title":"LeetCode 1310. XOR Queries of a Subarray"},{"location":"leetcode/1310/#leetcode-1310-xor-queries-of-a-subarray","text":"https://leetcode.com/problems/xor-queries-of-a-subarray/","title":"LeetCode 1310. XOR Queries of a Subarray"},{"location":"leetcode/1310/#_1","text":"\u6b63\u306e\u6574\u6570\u306e\u914d\u5217 arr \u3068\u30af\u30a8\u30ea\u306e\u914d\u5217 queries \uff08 queries[i] = [Li, Ri] \uff09\u304c\u4e0e\u3048\u3089\u308c\u308b \u305d\u308c\u305e\u308c\u306e\u30af\u30a8\u30ea\u306b\u5bfe\u3057\u3066\u3001 arr \u306e Li \u304b\u3089 Ri \u307e\u3067\u306e\u8981\u7d20\u304b\u3089\u6210\u308b\u90e8\u5206\u5217\u306eXOR\u3092\u6c42\u3081\u3088 \u5236\u7d04: 1 <= arr.length <= 3 * 10^4 1 <= queries.length <= 3 * 10^4","title":"\u554f\u984c\u6982\u8981"},{"location":"leetcode/1310/#example","text":"Input: arr = [1,3,4,8], queries = [[0,1],[1,2],[0,3],[3,3]] Output: [2,7,14,8]","title":"Example"},{"location":"leetcode/1310/#_2","text":"\u30af\u30a8\u30ea\u3054\u3068\u306b\u5358\u7d14\u306bXOR\u3092\u6c42\u3081\u308b\u3068\u3001 arr.length * queries.length \u304b\u304b\u308b\u306e\u3067\u9593\u306b\u5408\u3044\u307e\u305b\u3093\u3002 \u4e88\u3081 arr \u306b\u5bfe\u3057\u3066\u7d2f\u7a4dXOR\u3092\u6c42\u3081\u3066\u304a\u304d\u3001\u30af\u30a8\u30ea\u3054\u3068\u306b\u90e8\u5206\u5217\u306eXOR\u3092\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002 from itertools import accumulate import operator class Solution : def xorQueries ( self , arr : List [ int ], queries : List [ List [ int ]]) -> List [ int ]: # \u7d2f\u7a4dXOR\u3092\u6c42\u3081\u308b O(N) acc = [ 0 ] + list ( accumulate ( arr , operator . xor )) out = [] for l , r in queries : # \u90e8\u5206\u5217\u306eXOR\u3092\u6c42\u3081\u308b O(1) x = acc [ l ] ^ acc [ r + 1 ] out . append ( x ) return out","title":"\u30b3\u30fc\u30c9\u3068\u89e3\u8aac"},{"location":"leetcode/1312/","text":"LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome \u00b6 https://leetcode.com/problems/minimum-insertion-steps-to-make-a-string-palindrome/ \u554f\u984c\u6982\u8981 \u00b6 \u6587\u5b57\u5217 s \u304c\u4e0e\u3048\u3089\u308c\u3001\u6587\u5b57\u3092\u8ffd\u52a0\u3057\u3066\u56de\u6587\u3092\u4f5c\u308b\u3068\u304d\u3001\u6700\u5c0f\u3067\u4f55\u6587\u5b57\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u6c42\u3081\u3088 \u6587\u5b57\u306f\u597d\u304d\u306a\u5834\u6240\u3001\u597d\u304d\u306a\u6587\u5b57\uff08\u5c0f\u6587\u5b57\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\uff09\u3092\u8ffd\u52a0\u3057\u3066\u826f\u3044 \u5236\u7d04: 1 <= s.length <= 500 \u30b3\u30fc\u30c9\u3068\u89e3\u8aac \u00b6 from functools import lru_cache class Solution : def minInsertions ( self , s : str ) -> int : ans = self . f ( s , 0 , len ( s ) - 1 ) return ans @lru_cache ( maxsize = 1000 ) def f ( self , string , left , right ): if left == right : return 0 if left == right - 1 : if string [ left ] == string [ right ]: return 0 else : return 1 if string [ left ] == string [ right ]: return self . f ( string , left + 1 , right - 1 ) else : return min ( self . f ( string , left + 1 , right ), self . f ( string , left , right - 1 )) + 1","title":"LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome"},{"location":"leetcode/1312/#leetcode-1312-minimum-insertion-steps-to-make-a-string-palindrome","text":"https://leetcode.com/problems/minimum-insertion-steps-to-make-a-string-palindrome/","title":"LeetCode 1312. Minimum Insertion Steps to Make a String Palindrome"},{"location":"leetcode/1312/#_1","text":"\u6587\u5b57\u5217 s \u304c\u4e0e\u3048\u3089\u308c\u3001\u6587\u5b57\u3092\u8ffd\u52a0\u3057\u3066\u56de\u6587\u3092\u4f5c\u308b\u3068\u304d\u3001\u6700\u5c0f\u3067\u4f55\u6587\u5b57\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u6c42\u3081\u3088 \u6587\u5b57\u306f\u597d\u304d\u306a\u5834\u6240\u3001\u597d\u304d\u306a\u6587\u5b57\uff08\u5c0f\u6587\u5b57\u306e\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\uff09\u3092\u8ffd\u52a0\u3057\u3066\u826f\u3044 \u5236\u7d04: 1 <= s.length <= 500","title":"\u554f\u984c\u6982\u8981"},{"location":"leetcode/1312/#_2","text":"from functools import lru_cache class Solution : def minInsertions ( self , s : str ) -> int : ans = self . f ( s , 0 , len ( s ) - 1 ) return ans @lru_cache ( maxsize = 1000 ) def f ( self , string , left , right ): if left == right : return 0 if left == right - 1 : if string [ left ] == string [ right ]: return 0 else : return 1 if string [ left ] == string [ right ]: return self . f ( string , left + 1 , right - 1 ) else : return min ( self . f ( string , left + 1 , right ), self . f ( string , left , right - 1 )) + 1","title":"\u30b3\u30fc\u30c9\u3068\u89e3\u8aac"}]}